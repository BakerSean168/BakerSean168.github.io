---
title: dailyuse(1)-账号模块
categories:
  - null
description: electron+vue3 项目怎么实现一个支持离线、在线的账号模块
date: 2025-05-24 10:42:00
tags:
---

默认进入为

# 数据库

选择使用 sqlite，使用的人数多，社区资源较丰富，使用难度较低  

## 用户表结构

先默认创建本地账户，只需要 username、password，将 username 作为键值。  
当用户需使用联网服务（同步功能），再升级账号，完善用户信息，服务端生成 onlineId 用于标识  

```ts
db.exec(`
    CREATE TABLE IF NOT EXISTS users (
      username TEXT PRIMARY KEY,
      password TEXT NOT NULL,
      email TEXT,
      phone TEXT,
      accountType TEXT, -- 账户类型
      onlineId TEXT, -- 在线ID,当用户升级为在线账户时,由服务器生成返回
      createdAt INTEGER NOT NULL
    )
  `);
```